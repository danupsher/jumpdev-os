# JumpDev OS GRUB Configuration

insmod part_gpt
insmod part_msdos
insmod fat
insmod iso9660
insmod all_video
insmod font
insmod gfxterm
insmod png

set default="0"
set timeout=5
set gfxmode=1920x1080,auto
set gfxpayload=keep

loadfont /boot/grub/fonts/unicode.pf2
terminal_output gfxterm

# Load JumpDev theme
set theme=/boot/grub/themes/jumpdev/theme.txt
export theme

menuentry "JumpDev OS (x86_64, UEFI)" --class arch --class gnu-linux --class gnu --class os {
    set gfxpayload=keep
    search --no-floppy --set=root --label %ARCHISO_LABEL%
    linux /%INSTALL_DIR%/boot/x86_64/vmlinuz-linux-zen archisobasedir=%INSTALL_DIR% archisolabel=%ARCHISO_LABEL% quiet splash
    initrd /%INSTALL_DIR%/boot/x86_64/initramfs-linux-zen.img
}

menuentry "JumpDev OS (x86_64, UEFI, nomodeset)" --class arch --class gnu-linux --class gnu --class os {
    set gfxpayload=keep
    search --no-floppy --set=root --label %ARCHISO_LABEL%
    linux /%INSTALL_DIR%/boot/x86_64/vmlinuz-linux-zen archisobasedir=%INSTALL_DIR% archisolabel=%ARCHISO_LABEL% nomodeset
    initrd /%INSTALL_DIR%/boot/x86_64/initramfs-linux-zen.img
}

menuentry "System shutdown" --class shutdown --class poweroff {
    echo "System shutting down..."
    halt
}

menuentry "System restart" --class reboot --class restart {
    echo "System rebooting..."
    reboot
}
